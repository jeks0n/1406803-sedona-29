const buttonMainSearch=document.querySelector(".button-main-search"),searchForm=document.querySelector(".search-form"),arrivalDate=searchForm.querySelector("[name=arrival-date]"),dateOfDeparture=searchForm.querySelector("[name=date-of-departure]"),adults=searchForm.querySelector("[name=adults]"),children=searchForm.querySelector("[name=children]"),searchFormClassActive="search-form-active",searchFormClassInactive="search-form-inactive";let localStorageAdults,localStorageChildren,isStorageSupport=!0;try{localStorageAdults=localStorage.getItem("adults"),localStorageChildren=localStorage.getItem("children")}catch(a){isStorageSupport=!1}(localStorageAdults||localStorageChildren)&&(adults.value=localStorageAdults,children.value=localStorageChildren),searchForm.classList.remove(searchFormClassActive),searchForm.classList.add(searchFormClassInactive),buttonMainSearch.addEventListener("click",function(a){return a.preventDefault(),searchForm.classList.contains(searchFormClassInactive)?void(searchForm.classList.remove(searchFormClassInactive),searchForm.classList.add(searchFormClassActive),arrivalDate.focus()):(searchForm.classList.remove(searchFormClassActive),searchForm.classList.add(searchFormClassInactive))}),searchForm.addEventListener("transitionend",function(){arrivalDate.focus()},!1),window.addEventListener("keydown",function(a){if(27===a.keyCode&&searchForm.classList.contains(searchFormClassActive))return a.preventDefault(),searchForm.classList.remove(searchFormClassActive),searchForm.classList.add(searchFormClassInactive)}),searchForm.addEventListener("submit",function(a){return arrivalDate.value&&dateOfDeparture.value&&adults.value&&children.value?void(isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("children",children.value))):a.preventDefault()});
